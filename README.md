# gosort

`gosort` — упрощённый аналог UNIX-утилиты `sort`.  
Программа сортирует строки из файлов или стандартного ввода и выводит их отсортированными на стандартный вывод.

---

## Возможности

Поддерживаются флаги, аналогичные GNU `sort`:

| Флаг       | Описание                                                                                  |
|------------|-------------------------------------------------------------------------------------------|
| `-k N`     | Сортировать по колонке N (1..N), разделитель — табуляция по умолчанию                     |
| `-n`       | Числовая сортировка                                                                        |
| `-r`       | Обратный порядок (reverse)                                                                 |
| `-u`       | Выводить только уникальные строки                                                         |
| `-M`       | Сортировать по названию месяца (Jan, Feb … Dec)                                           |
| `-b`       | Игнорировать хвостовые пробелы при сравнении                                              |
| `-c`       | Проверить, отсортированы ли данные; если нет — вывести сообщение об ошибке               |
| `-h`       | Числовая сортировка с учётом человекочитаемых суффиксов (K, M, G, T, P, E)               |

Флаги можно комбинировать, например: `-n -r` — числовая сортировка в обратном порядке.  

---

## Установка

Сборка через Makefile:

```bash
make build
````

Исполняемый файл появится в директории `bin/`:

```text
bin/gosort
```

Запуск:

```bash
./bin/gosort [OPTIONS] [FILE ...]
```

Если файл не указан, читается STDIN.

---

## Примеры использования

Сортировка обычных строк:

```bash
echo -e "orange\napple\nbanana" | ./bin/gosort
# Вывод:
# apple
# banana
# orange
```

Сортировка по второй колонке (разделитель — табуляция):

```bash
echo -e "2\tapple\n1\tbanana\n3\tcherry" | ./bin/gosort -k 2
# Вывод:
# 2	apple
# 1	banana
# 3	cherry
```

Числовая сортировка:

```bash
echo -e "10\n2\n30" | ./bin/gosort -n
# Вывод:
# 2
# 10
# 30
```

Удаление дубликатов с игнорированием хвостовых пробелов:

```bash
echo -e "apple  \napple\nbanana" | ./bin/gosort -b -u
# Вывод:
# apple
# banana
```

Сортировка месяцев:

```bash
echo -e "Mar\nJan\nFeb" | ./bin/gosort -M
# Вывод:
# Jan
# Feb
# Mar
```

Проверка сортировки (`-c`):

```bash
echo -e "a\nc\nb" | ./bin/gosort -c
# Вывод в stderr:
# sort: disorder at line 3: "c" > "b"
```

---

## Тестирование и линтинг

Запуск тестов:

```bash
make test
```

Запуск проверки кода:

```bash
make lint
```

---

## Очистка артефактов сборки

```bash
make clean
```

Удаляет бинарные файлы и временные директории.

---

## Замечания

* `gosort` обрабатывает большие файлы эффективно, не загружая их полностью в память для сортировки ключей.
* Если указаны конфликтующие флаги (`-n` и `-h`, или `-M` с `-n/-h`), выводится предупреждение, и приоритет отдается одному из режимов.
